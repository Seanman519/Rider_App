{"ast":null,"code":"import _asyncToGenerator from \"/Users/chineduetoh/Desktop/IONIC PROJECTS/Go_Rider/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./support.page.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./support.page.scss?ngResource\";\nimport { Component, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { StatusBar } from '@capacitor/status-bar';\nimport { IonContent } from '@ionic/angular';\nimport { AvatarService } from 'src/app/services/avatar.service';\nlet SupportPage = class SupportPage {\n  constructor(chatService, router) {\n    this.chatService = chatService;\n    this.router = router;\n    this.newMsg = '';\n  }\n\n  ionViewDidEnter() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.skeletOns = [{}, {}, {}, {}];\n      _this.hideSkeleton = true;\n      _this.messages = _this.chatService.getMessage();\n\n      _this.messages.subscribe(d => {\n        if (d.length == 0) {\n          _this.hasNoData = true;\n          _this.hideSkeleton = false;\n        } else {\n          _this.hideSkeleton = false;\n          _this.hasNoData = false;\n        }\n      });\n    })();\n  }\n\n  Show() {\n    return _asyncToGenerator(function* () {\n      yield StatusBar.setOverlaysWebView({\n        overlay: false\n      });\n    })();\n  }\n\n  Hide() {\n    return _asyncToGenerator(function* () {\n      yield StatusBar.setOverlaysWebView({\n        overlay: true\n      });\n    })();\n  }\n\n  ngOnInit() {}\n\n  sendMessage() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.chatService.addChatMessage(_this2.newMsg);\n      _this2.newMsg = '';\n\n      _this2.content.scrollToBottom();\n    })();\n  }\n\n};\n\nSupportPage.ctorParameters = () => [{\n  type: AvatarService\n}, {\n  type: Router\n}];\n\nSupportPage.propDecorators = {\n  content: [{\n    type: ViewChild,\n    args: [IonContent]\n  }]\n};\nSupportPage = __decorate([Component({\n  selector: 'app-support',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], SupportPage);\nexport { SupportPage };","map":{"version":3,"mappings":";;;;AAAA,SAASA,SAAT,EAA4BC,SAA5B,QAA6C,eAA7C;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,SAAT,QAAiC,uBAAjC;AACA,SAASC,UAAT,QAA0C,gBAA1C;AAEA,SAASC,aAAT,QAA8B,iCAA9B;IAOaC,WAAW,SAAXA,WAAW;EAWtBC,YAAoBC,WAApB,EAAwDC,MAAxD,EAAsE;IAAlD;IAAoC;IAPxD,cAAS,EAAT;EAO2E;;EAErEC,eAAe;IAAA;;IAAA;MACnB,KAAI,CAACC,SAAL,GAAiB,CACf,EADe,EACZ,EADY,EACT,EADS,EACN,EADM,CAAjB;MAGA,KAAI,CAACC,YAAL,GAAoB,IAApB;MACA,KAAI,CAACC,QAAL,GAAiB,KAAI,CAACL,WAAL,CAAiBM,UAAjB,EAAjB;;MACA,KAAI,CAACD,QAAL,CAAcE,SAAd,CAAyBC,CAAD,IAAK;QAC3B,IAAIA,CAAC,CAACC,MAAF,IAAY,CAAhB,EAAkB;UAChB,KAAI,CAACC,SAAL,GAAiB,IAAjB;UACA,KAAI,CAACN,YAAL,GAAoB,KAApB;QACD,CAHD,MAGK;UACH,KAAI,CAACA,YAAL,GAAoB,KAApB;UACA,KAAI,CAACM,SAAL,GAAiB,KAAjB;QACD;MACJ,CARC;IANmB;EAmBtB;;EAOOC,IAAI;IAAA;MACR,MAAMhB,SAAS,CAACiB,kBAAV,CAA6B;QAAEC,OAAO,EAAE;MAAX,CAA7B,CAAN;IADQ;EAGT;;EAEKC,IAAI;IAAA;MACR,MAAMnB,SAAS,CAACiB,kBAAV,CAA6B;QAAEC,OAAO,EAAE;MAAX,CAA7B,CAAN;IADQ;EAGT;;EAEDE,QAAQ,IAAI;;EAENC,WAAW;IAAA;;IAAA;MACf,MAAM,MAAI,CAAChB,WAAL,CAAiBiB,cAAjB,CAAgC,MAAI,CAACC,MAArC,CAAN;MACE,MAAI,CAACA,MAAL,GAAc,EAAd;;MACA,MAAI,CAACC,OAAL,CAAaC,cAAb;IAHa;EAIhB;;AAvDqB;;;QAPfvB;;QAJAH;;;;;UAaND;IAAS4B,OAACzB,UAAD;;;AAFCE,WAAW,eALvBN,SAAS,CAAC;EACT8B,QAAQ,EAAE,aADD;EAETC,8BAFS;;AAAA,CAAD,CAKc,GAAXzB,WAAW,CAAX;SAAAA","names":["Component","ViewChild","Router","StatusBar","IonContent","AvatarService","SupportPage","constructor","chatService","router","ionViewDidEnter","skeletOns","hideSkeleton","messages","getMessage","subscribe","d","length","hasNoData","Show","setOverlaysWebView","overlay","Hide","ngOnInit","sendMessage","addChatMessage","newMsg","content","scrollToBottom","args","selector","template"],"sourceRoot":"","sources":["/Users/chineduetoh/Desktop/IONIC PROJECTS/Go_Rider/src/app/pages/support/support.page.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { StatusBar, Style } from '@capacitor/status-bar';\nimport { IonContent, NavController } from '@ionic/angular';\nimport { Observable } from 'rxjs';\nimport { AvatarService } from 'src/app/services/avatar.service';\n\n@Component({\n  selector: 'app-support',\n  templateUrl: './support.page.html',\n  styleUrls: ['./support.page.scss'],\n})\nexport class SupportPage implements OnInit {\n\n  @ViewChild(IonContent) content: IonContent;\n \n  newMsg = '';\n  messages: Observable<import(\"@angular/fire/firestore\").DocumentData[]>;\n  hasNoData: any;\n  skeletOns: {}[];\n  hideSkeleton: boolean;\n\n \n  constructor(private chatService: AvatarService, private router: Router) { }\n \n  async ionViewDidEnter() {\n    this.skeletOns = [\n      {},{},{},{}\n    ]\n    this.hideSkeleton = true;\n    this.messages = (this.chatService.getMessage())\n    this.messages.subscribe((d)=>{\n      if (d.length == 0){\n        this.hasNoData = true;\n        this.hideSkeleton = false;\n      }else{\n        this.hideSkeleton = false;\n        this.hasNoData = false;\n      }\n  })\n\n\n  \n\n}\n\n  \n\n\n   \n\n  async Show(){\n    await StatusBar.setOverlaysWebView({ overlay: false });\n   \n  }\n\n  async Hide(){\n    await StatusBar.setOverlaysWebView({ overlay: true });\n   \n  }\n\n  ngOnInit(){}\n \n  async sendMessage() {\n    await this.chatService.addChatMessage(this.newMsg)\n      this.newMsg = '';\n      this.content.scrollToBottom();\n  }\n \n  \n}\n"]},"metadata":{},"sourceType":"module"}