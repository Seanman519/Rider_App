{"ast":null,"code":"import _asyncToGenerator from \"/Users/chineduetoh/Desktop/IONIC PROJECTS/Go_Rider/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./otp.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./otp.component.scss?ngResource\";\nimport { AuthService } from '../services/auth.service';\nimport { Component, Input } from '@angular/core';\nimport { ModalController, ToastController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { OverlayService } from '../services/overlay.service';\nimport { AvatarService } from '../services/avatar.service';\nlet OtpComponent = class OtpComponent {\n  constructor(modalCtrl, overlay, toastCtrl, auth, router, avatar) {\n    this.modalCtrl = modalCtrl;\n    this.overlay = overlay;\n    this.toastCtrl = toastCtrl;\n    this.auth = auth;\n    this.router = router;\n    this.avatar = avatar;\n    this.isLoading = false;\n    this.config = {\n      length: 6,\n      allowNumbersOnly: true\n    };\n  }\n\n  ngOnInit() {\n    console.log(this.phone);\n  }\n\n  onOtpChange(event) {\n    this.otp = event;\n    console.log(this.otp);\n  }\n\n  closeModal() {\n    this.modalCtrl.dismiss();\n  }\n\n  resend() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const response = yield _this.auth.signInWithPhoneNumber(_this.countryCode + _this.phone);\n        console.log(response);\n      } catch (e) {\n        console.log(e);\n      }\n    })();\n  }\n\n  verifyOtp() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this2.overlay.showLoader(\"\");\n\n        const response = yield _this2.auth.verifyOtp(_this2.otp);\n\n        _this2.modalCtrl.dismiss(response);\n      } catch (e) {\n        console.log(e);\n      }\n    })();\n  }\n\n};\n\nOtpComponent.ctorParameters = () => [{\n  type: ModalController\n}, {\n  type: OverlayService\n}, {\n  type: ToastController\n}, {\n  type: AuthService\n}, {\n  type: Router\n}, {\n  type: AvatarService\n}];\n\nOtpComponent.propDecorators = {\n  phone: [{\n    type: Input\n  }],\n  countryCode: [{\n    type: Input\n  }]\n};\nOtpComponent = __decorate([Component({\n  selector: 'app-otp',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], OtpComponent);\nexport { OtpComponent };","map":{"version":3,"mappings":";;;;AAAA,SAASA,WAAT,QAA4B,0BAA5B;AACA,SAASC,SAAT,EAAoBC,KAApB,QAAyC,eAAzC;AACA,SAA4BC,eAA5B,EAA2DC,eAA3D,QAAkF,gBAAlF;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,cAAT,QAA+B,6BAA/B;AACA,SAASC,aAAT,QAA8B,4BAA9B;IAQaC,YAAY,SAAZA,YAAY;EAWvBC,YACSC,SADT,EAESC,OAFT,EAGSC,SAHT,EAIUC,IAJV,EAKUC,MALV,EAMUC,MANV,EAM+B;IALtB;IACA;IACA;IACC;IACA;IACA;IAbV,iBAAY,KAAZ;IAEA,cAAS;MACPC,MAAM,EAAE,CADD;MAEPC,gBAAgB,EAAE;IAFX,CAAT;EAYO;;EAEPC,QAAQ;IACNC,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;EACD;;EAEDC,WAAW,CAACC,KAAD,EAAM;IACf,KAAKC,GAAL,GAAWD,KAAX;IACAJ,OAAO,CAACC,GAAR,CAAY,KAAKI,GAAjB;EACD;;EAEDC,UAAU;IACR,KAAKf,SAAL,CAAegB,OAAf;EACD;;EAEKC,MAAM;IAAA;;IAAA;MACV,IAAI;QACF,MAAMC,QAAQ,SAAS,KAAI,CAACf,IAAL,CAAUgB,qBAAV,CAAgC,KAAI,CAACC,WAAL,GAAmB,KAAI,CAACT,KAAxD,CAAvB;QACAF,OAAO,CAACC,GAAR,CAAYQ,QAAZ;MACD,CAHD,CAGE,OAAMG,CAAN,EAAS;QACTZ,OAAO,CAACC,GAAR,CAAYW,CAAZ;MACD;IANS;EAOX;;EAEKC,SAAS;IAAA;;IAAA;MACb,IAAI;QACF,MAAI,CAACrB,OAAL,CAAasB,UAAb,CAAwB,EAAxB;;QACA,MAAML,QAAQ,SAAS,MAAI,CAACf,IAAL,CAAUmB,SAAV,CAAoB,MAAI,CAACR,GAAzB,CAAvB;;QACA,MAAI,CAACd,SAAL,CAAegB,OAAf,CAAuBE,QAAvB;MACD,CAJD,CAIE,OAAMG,CAAN,EAAS;QACTZ,OAAO,CAACC,GAAR,CAAYW,CAAZ;MACD;IAPY;EAQd;;AAlDsB;;;QAXG5B;;QAEnBG;;QAFkDF;;QAFlDJ;;QAGAK;;QAEAE;;;;;UAUNL;;;UACAA;;;AAHUM,YAAY,eANxBP,SAAS,CAAC;EACTiC,QAAQ,EAAE,SADD;EAETC,8BAFS;;AAAA,CAAD,CAMe,GAAZ3B,YAAY,CAAZ;SAAAA","names":["AuthService","Component","Input","ModalController","ToastController","Router","OverlayService","AvatarService","OtpComponent","constructor","modalCtrl","overlay","toastCtrl","auth","router","avatar","length","allowNumbersOnly","ngOnInit","console","log","phone","onOtpChange","event","otp","closeModal","dismiss","resend","response","signInWithPhoneNumber","countryCode","e","verifyOtp","showLoader","selector","template"],"sourceRoot":"","sources":["/Users/chineduetoh/Desktop/IONIC PROJECTS/Go_Rider/src/app/otp/otp.component.ts"],"sourcesContent":["import { AuthService } from '../services/auth.service';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { LoadingController, ModalController, ModalOptions, ToastController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { OverlayService } from '../services/overlay.service';\nimport { AvatarService } from '../services/avatar.service';\n\n@Component({\n  selector: 'app-otp',\n  templateUrl: './otp.component.html',\n  styleUrls: ['./otp.component.scss'],\n})\n\nexport class OtpComponent implements OnInit {\n\n  @Input() phone;\n  @Input() countryCode;\n  isLoading = false;\n  otp: string;\n  config = {\n    length: 6,\n    allowNumbersOnly: true,\n  };\n\n  constructor(\n    public modalCtrl: ModalController,\n    public overlay: OverlayService,\n    public toastCtrl: ToastController,\n    private auth: AuthService,\n    private router: Router,\n    private avatar: AvatarService,\n    ) { }\n\n  ngOnInit() {\n    console.log(this.phone);\n  }\n\n  onOtpChange(event) {\n    this.otp = event;\n    console.log(this.otp);\n  }\n\n  closeModal(){\n    this.modalCtrl.dismiss();\n  }\n\n  async resend(): Promise<void> {\n    try {\n      const response = await this.auth.signInWithPhoneNumber(this.countryCode + this.phone);\n      console.log(response);       \n    } catch(e) {\n      console.log(e);\n    }\n  }\n\n  async verifyOtp(): Promise<void> {\n    try {\n      this.overlay.showLoader(\"\");\n      const response = await this.auth.verifyOtp(this.otp);\n      this.modalCtrl.dismiss(response);\n    } catch(e) {\n      console.log(e);\n    }\n  }\n\n}"]},"metadata":{},"sourceType":"module"}